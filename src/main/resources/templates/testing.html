<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net/nz/thymeleaf/layout"
    layout:decorate="~{layouts/layout}">
    <head>
        <title>workbook</title>
    </head>
    <div layout:fragment="content">
		<!-- content -->
		<h3>testing</h3>
		
		<div th:if="${end} !=0">
		<a href="/workbook/" th:attrappend="href=${workbook}">취소</a>
		<div>
			<a href="#"><del>좌우보기</del></a>
		</div>
		<div>
			<a href="#"><del>왼쪽 이동</del></a>
			<a href="#"><del>오른쪽 이동</del></a>
			<a href="#"><del>랜덤순서</del></a>
		</div>
		<div>
			<form action="/testing" method="post">
				<input type="hidden" name="workbook" th:value="${workbook}">
				<input type="hidden" name="current" th:value="${current}+1">
				<input type="hidden" th:name="|list[${listStat.index}]|" th:value="${list}" th:each="list, listStat : ${list}">
				<input type="hidden" name="problem" th:if="${item}" th:value="${item.id}">
				<input type="hidden" name="score" th:if="${score}" th:value="${score}">
				<input type="hidden" name="isRight" value="0">
				<input type="submit" value="오답">
			</form>
			<span th:text="${score}"></span><span>/</span><span th:text="${total}"></span>
			
			<form action="/testing" method="post">
				<input type="hidden" name="workbook" th:value="${workbook}">
				<input type="hidden" name="current" th:value="${current}+1">
				<input type="hidden" th:name="|list[${listStat.index}]|" th:value="${list}" th:each="list, listStat : ${list}">
				<input type="hidden" name="problem" th:if="${item}" th:value="${item.id}">
				<input type="hidden" name="score" th:if="${score}" th:value="${score}">
				<input type="hidden" name="isRight" value="1">
				<input type="submit" value="정답">
			</form>
		</div>
		<hr>
		<div th:if="${total}>0">
			<div th:if="${current} == 0">
				<form action="/testing" method="post">
					<input type="hidden" name="workbook" th:value="${workbook}">
					<input type="hidden" name="current" th:value="${current}+1">
					<input type="hidden" th:name="|list[${listStat.index}]|" th:value="${list}" th:each="list, listStat : ${list}">
					<input type="hidden" name="problem" th:if="${item}" th:value="${item.id}">
				<input type="hidden" name="score" th:if="${score}" th:value="${score}">
					<input type="hidden" name="isRight" value="1">
					<input type="submit" value="시작하기">
				</form>
			</div>
			<div th:if="${item}">
				<p>문제: <span th:text="${item.question}"></span></p>
				<p>정답: <span th:text="${item.answer}"></span></p>
			</div>
		</div>
		
		<div th:unless="${total}>0">
			문제가 없습니다.
		</div>
		</div>
		
		<div th:if="${end} == 0">
			<h3>학습 완료</h3>
			<a href="/record">기록으로 이동</a><br>
			<a href="/workbook/" th:attrappend="href=${workbook}">문제집으로 이동</a>
		</div>
	</div>
</html>
